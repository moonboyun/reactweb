<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="kr.co.iei.board.model.dao.BoardDao">
  <select id="totalCount" resultType="int">
  	select count(*) from board_tbl
   </select>
   
   <select id="selectBoardList" resultType="board">
   		select * from
    (select rownum as rnum, b. *
        from
            (select
            	board_no,
                board_title,
            	board_thumb,
            	board_writer,
            	board_date
            from board_tbl order by board_no desc)b) 
        where rnum between #{start} and #{end}
   </select>
   
   <select id="getBoardNo" resultType="int">
   		select board_seq.nextval from dual
   </select>
   
   <insert id="insertBoard">
   		insert into board_tbl 
   		values(#{boardNo}, #{boardTitle}, #{boardThumb}, #{boardWriter},#{boardContent}, to_char(sysdate, 'yyyy-mm-dd'))
   </insert>
   
   <insert id="insertBoardFile">
   		insert into board_file_tbl
   		values(board_file_seq.nextval, #{boardNo},#{filename},#{filepath})
   </insert>
</mapper>
